version: 2

models:
  - name: l2_dim_truck
    columns:
      - name: TRUCK_ID
        tests:
          - unique
          - not_null
  - name: l2_dim_product
    columns:
      - name: PRODUCT_ID
        tests:
          - unique
          - not_null
  - name: l2_dim_customer
    columns:
      - name: CUSTOMER_ID
        tests:
          - unique
          - not_null
  - name: l2_fct_order_detail
    columns:
      - name: ORDER_DETAIL_ID
        tests:
          - unique
          - not_null
      - name: TRUCK_ID
        tests:
          - relationships:
              to: ref('l2_dim_truck')  
              field: TRUCK_ID          
      - name: PRODUCT_ID
        tests:
          - relationships:
              to: ref('l2_dim_product')  
              field: PRODUCT_ID          
      - name: CUSTOMER_ID
        tests:
          - relationships:
              to: ref('l2_dim_customer')  
              field: CUSTOMER_ID          
